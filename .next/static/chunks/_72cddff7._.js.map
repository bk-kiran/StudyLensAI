{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;AAED;AAAA;;AAUO,MAAM,MAAM,yJAAA,CAAA,SAAM;AAClB,MAAM,WAAW,yJAAA,CAAA,SAAM","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/src/app/%28auth%29/complete-reset/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { useAuthActions } from \"@convex-dev/auth/react\";\nimport { toast } from \"sonner\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Loader2 } from \"lucide-react\";\n\nexport default function CompleteResetPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const email = searchParams.get(\"email\");\n  const password = searchParams.get(\"password\");\n\n  const [status, setStatus] = useState<\"checking\" | \"creating\" | \"done\" | \"error\">(\"checking\");\n  const { signIn } = useAuthActions();\n  const checkPending = useMutation(api.passwordResetMutations.completePendingReset);\n  const clearPending = useMutation(api.passwordResetMutations.clearPendingReset);\n\n  useEffect(() => {\n    if (!email || !password) {\n      router.push(\"/signin\");\n      return;\n    }\n\n    const completeReset = async () => {\n      try {\n        setStatus(\"checking\");\n        \n        // Check if there's a pending reset\n        const result = await checkPending({ email });\n        \n        if (!result.hasPending) {\n          toast.error(\"Reset session expired. Please try again.\");\n          router.push(\"/forgot-password\");\n          return;\n        }\n\n        setStatus(\"creating\");\n        \n        // Now create the auth with sign-up\n        await signIn(\"password\", {\n          email: email,\n          password: password,\n          flow: \"signUp\",\n        });\n\n        // Clear the pending reset\n        await clearPending({ email });\n\n        setStatus(\"done\");\n        toast.success(\"Password reset successfully!\");\n        \n        setTimeout(() => {\n          router.push(\"/courses\");\n        }, 1000);\n\n      } catch (error: any) {\n        console.error(\"Complete reset error:\", error);\n        \n        // If account exists, auth was created, clear pending and sign in\n        if (error.message?.includes(\"already exists\") || error.message?.includes(\"Account\")) {\n          try {\n            await clearPending({ email });\n            \n            await signIn(\"password\", {\n              email: email,\n              password: password,\n              flow: \"signIn\",\n            });\n\n            setStatus(\"done\");\n            toast.success(\"Password reset successfully!\");\n            \n            setTimeout(() => {\n              router.push(\"/courses\");\n            }, 1000);\n\n          } catch (signInError: any) {\n            console.error(\"Sign in error:\", signInError);\n            setStatus(\"error\");\n            toast.error(\"Please sign in manually with your new password.\");\n            setTimeout(() => {\n              router.push(`/signin?email=${encodeURIComponent(email)}`);\n            }, 2000);\n          }\n        } else {\n          setStatus(\"error\");\n          toast.error(error.message || \"Failed to complete reset\");\n          setTimeout(() => {\n            router.push(\"/forgot-password\");\n          }, 2000);\n        }\n      }\n    };\n\n    completeReset();\n  }, [email, password, router, signIn, checkPending, clearPending]);\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-muted/50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle>Completing Password Reset</CardTitle>\n          <CardDescription>\n            {status === \"checking\" && \"Verifying reset request...\"}\n            {status === \"creating\" && \"Creating your new password...\"}\n            {status === \"done\" && \"Success! Redirecting...\"}\n            {status === \"error\" && \"Something went wrong...\"}\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"flex justify-center py-8\">\n          <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}