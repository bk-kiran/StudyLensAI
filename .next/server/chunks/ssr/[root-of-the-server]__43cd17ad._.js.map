{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;AAED;AAAA;;AAUO,MAAM,MAAM,sJAAA,CAAA,SAAM;AAClB,MAAM,WAAW,sJAAA,CAAA,SAAM","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirannew/StudyLens%20AI/src/app/%28auth%29/complete-reset/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"../../../../convex/_generated/api\";\nimport { useAuthActions } from \"@convex-dev/auth/react\";\nimport { toast } from \"sonner\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Loader2 } from \"lucide-react\";\n\nexport default function CompleteResetPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const email = searchParams.get(\"email\");\n  const password = searchParams.get(\"password\");\n\n  const [status, setStatus] = useState<\"checking\" | \"creating\" | \"done\" | \"error\">(\"checking\");\n  const { signIn } = useAuthActions();\n  const checkPending = useMutation(api.passwordResetMutations.completePendingReset);\n  const clearPending = useMutation(api.passwordResetMutations.clearPendingReset);\n\n  useEffect(() => {\n    if (!email || !password) {\n      router.push(\"/signin\");\n      return;\n    }\n\n    const completeReset = async () => {\n      try {\n        setStatus(\"checking\");\n        \n        // Check if there's a pending reset\n        const result = await checkPending({ email });\n        \n        if (!result.hasPending) {\n          toast.error(\"Reset session expired. Please try again.\");\n          router.push(\"/forgot-password\");\n          return;\n        }\n\n        setStatus(\"creating\");\n        \n        // Now create the auth with sign-up\n        await signIn(\"password\", {\n          email: email,\n          password: password,\n          flow: \"signUp\",\n        });\n\n        // Clear the pending reset\n        await clearPending({ email });\n\n        setStatus(\"done\");\n        toast.success(\"Password reset successfully!\");\n        \n        setTimeout(() => {\n          router.push(\"/courses\");\n        }, 1000);\n\n      } catch (error: any) {\n        console.error(\"Complete reset error:\", error);\n        \n        // If account exists, auth was created, clear pending and sign in\n        if (error.message?.includes(\"already exists\") || error.message?.includes(\"Account\")) {\n          try {\n            await clearPending({ email });\n            \n            await signIn(\"password\", {\n              email: email,\n              password: password,\n              flow: \"signIn\",\n            });\n\n            setStatus(\"done\");\n            toast.success(\"Password reset successfully!\");\n            \n            setTimeout(() => {\n              router.push(\"/courses\");\n            }, 1000);\n\n          } catch (signInError: any) {\n            console.error(\"Sign in error:\", signInError);\n            setStatus(\"error\");\n            toast.error(\"Please sign in manually with your new password.\");\n            setTimeout(() => {\n              router.push(`/signin?email=${encodeURIComponent(email)}`);\n            }, 2000);\n          }\n        } else {\n          setStatus(\"error\");\n          toast.error(error.message || \"Failed to complete reset\");\n          setTimeout(() => {\n            router.push(\"/forgot-password\");\n          }, 2000);\n        }\n      }\n    };\n\n    completeReset();\n  }, [email, password, router, signIn, checkPending, clearPending]);\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-muted/50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle>Completing Password Reset</CardTitle>\n          <CardDescription>\n            {status === \"checking\" && \"Verifying reset request...\"}\n            {status === \"creating\" && \"Creating your new password...\"}\n            {status === \"done\" && \"Success! Redirecting...\"}\n            {status === \"error\" && \"Something went wrong...\"}\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"flex justify-center py-8\">\n          <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}